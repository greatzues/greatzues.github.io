<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Fragment基础（上） | zues blog</title>
  <meta name="description" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />

  <meta name="generator" content="zues blog">

  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  

  
</head>


<body class="post-template">

  <header class="site-head"  style="background-image: url(http://pic1.win4000.com/wallpaper/b/4fcec6ce626d2.jpg)" >
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="//blog.ghost.org/content/images/2013/Nov/bloglogo_1-1.png" alt="Blog Logo"/></a> 
            <h1 class="blog-title">zues blog</h1>
            <h2 class="blog-description"></h2>
        </div>
    </div>
</header>
  

<main class="content" role="main">
  <article class="post">
    <span class="post-meta">
      <time datetime="2016-03-29T06:46:19.000Z" itemprop="datePublished">
          2016-03-29
      </time>
    
    
    | 
    <a href='/tags/android入门/'>android入门</a>
    
    
</span>
    <h1 class="post-title">Fragment基础（上）</h1>
    <section class="post-content">
      <p>因为自己经常忘记了fragment的写法，所以想通过博客巩固一下自己的知识，以后就不用再看demo来写fragment了，唉，都是写代码写的少惹的祸！！</p>
<h2 id="fragment的出现"><a href="#fragment的出现" class="headerlink" title="fragment的出现"></a>fragment的出现</h2><h3 id="1，Fragment的含义"><a href="#1，Fragment的含义" class="headerlink" title="1，Fragment的含义"></a>1，Fragment的含义</h3><p>fragment的翻译出来的意思是碎片的意思，很棒的命名，因为它就像一个activity碎片一样可以在activity中拼凑，也就是可以单独一部分出现在activity，基于这个特点曾经在fragmeng出来的时候不管开发什么都会首先考虑能不能用上fragment，似乎没有用上fragment就不时髦的样子。</p>
<h3 id="2，场景再现"><a href="#2，场景再现" class="headerlink" title="2，场景再现"></a>2，场景再现</h3><p>我们都知道，Android上的界面展示都是通过Activity实现的，Activity实在是太常用了，我相信大家都已经非常熟悉了，这里就不再赘述。但是Activity也有它的局限性，同样的界面在手机上显示可能很好看，在平板上就未必了，因为平板的屏幕非常大，手机的界面放在平板上可能会有过分被拉长、控件间距过大等情况。这个时候更好的体验效果是在Activity中嵌入”小Activity”，然后每个”小Activity”又可以拥有自己的布局。因此，我们今天的主角Fragment闪亮登场了。</p>
<h3 id="3，Fragment的生命周期"><a href="#3，Fragment的生命周期" class="headerlink" title="3，Fragment的生命周期"></a>3，Fragment的生命周期</h3><p>fragment不能独立存在，必须嵌入到activity中，所以fragment的生命周期必然会受到activity的影响，当 activity 暂停时,它拥有的所有的 Fragment 都暂停了,当 activity 销毁时,它拥有的所有 Fragment 都被销毁。然而,当 activity 运行时(在 onResume()之后,onPause()之前),可以单独地操作每个 Fragment, 比如添加或删除它们。当在执行上述针对 Fragment 的事务时,可以将事务添加到一个栈中,这个栈被 activity 管 理,栈中的每一条都是一个 Fragment 的一次事务。有了这个栈,就可以反向执行 Fragment 的事务,这样就可以在 Fragment 级支持“返回”键(向后导航)。</p>
<p>当向 activity 中添加一个 Fragment 时,它须置于 ViewGroup 控件中,并且需定义 Fragment 自己的界面。可 以在 layoutxml 文件中声明 Fragment,元素为:<fragment>;也可以在代码中创建 Fragment,然后把它加入到 ViewGroup 控件中。然而,Fragment 不一定非要放在 activity 的界面中,它可以隐藏在后台为 actvitiy 工作。<br>直接上图<br><img src="http://img.my.csdn.net/uploads/201211/29/1354170699_6619.png" alt="Fragment的生命周期"><br>上图非常经典的重现fragment的生命周期，但是继续看下图与Activity的生命周期进行对比看一下<br><img src="http://img.my.csdn.net/uploads/201211/29/1354170682_3824.png" alt="Fragment的生命周期与activity的生命周期对比照"></fragment></p>
<p>可以发现fragment比activity多了几个回调函数，下面我来详细分解每一个回调方法的作用</p>
<blockquote>
<p><strong>onAttach(Activity)</strong> 在fragment被添加进来之后，当Fragment与Activity关联的时候开始调用，在这个方法中可以获得所在的activity，也就是getActivity()方法。说是这样说，但是我还没有理解到什么时候用这个函数比较好<br><strong>onCreateView(LayoutInfalter,ViewGroup,Bundle)</strong> 当activity要得到fragment的layout时调用此方法，fragment在其中创建自己的layout界面。<br><strong>onActivityCreated(Bundle)</strong> 当activity的onCreate()方法返回之后调用这个方法<br><strong>onDestoryView()</strong> 当fragment中的是视图被移除的时候调用<br><strong>onDetach()</strong> 当fragment与activity分离的时候调用</p>
<h1 id="注意：除了onCreateView，其他的所有方法如果你重写了，必须调用父类对于该方法的实现"><a href="#注意：除了onCreateView，其他的所有方法如果你重写了，必须调用父类对于该方法的实现" class="headerlink" title="注意：除了onCreateView，其他的所有方法如果你重写了，必须调用父类对于该方法的实现"></a>注意：除了onCreateView，其他的所有方法如果你重写了，必须调用父类对于该方法的实现</h1><hr>
<p>当一个fargment被创建之后会经历以下几个状态：<br>onAttach()<br>onCreate()<br>onCreateView()<br>onActivityCreated()<br>在frgment对用户可见的时候，会经历：<br>onStart()<br>onResume()<br>当fragment进入后台，会经历：<br>onPause()<br>onStop()<br>当fragment被销毁（或者持有它的activity被销毁），它会经历：<br>onPause()<br>onStop()<br>onDestoryView()<br>onDestory()<br>onDetach()<br>像activity一样，在以下状态中可以使用bundle对象保存一个fragment对象<br>onCreate()<br>onCreateView()<br>onActivityCreated()</p>
</blockquote>

    </section>
    <footer class="post-footer">
      <section class="author">
    <h4>漏雨</h4>
    <p>生活不只是眼前的苟且，还有程序和代码，诗和远方也不错</p>
</section>
      <section class="share">
    <h4>Share this post</h4>
    <a class="icon-twitter" href="http://twitter.com/share?url=http://yoursite.com/2016/03/29/Fragment基础（上）/"
       onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2016/03/29/Fragment基础（上）/"
       onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=http://yoursite.com/2016/03/29/Fragment基础（上）/"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>
    </footer>
  </article>
  <nav class="pagination" role="pagination">
    
    <a class="newer-posts" href="/2016/03/29/Fragment基础（下）/">
        ← Fragment基础（下）
    </a>
    
    <span class="page-number">•</span>
    
    <a class="older-posts" href="/2016/03/19/android入门学习-activity/">
        android入门学习-activity →
    </a>
    
</nav>
  <div id="comment" class="comments-area">
    <h1 class="title"><a href="#disqus_comments" name="disqus_comments">Comments</a></h1>

    
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
    
</div>
</main>


  
<footer class="site-footer">
  
  <a class="subscribe icon-feed" href="atom.xml"><span class="tooltip">Subscribe!</span></a>
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">zues blog</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>



<script type="text/javascript">
    var disqus_shortname = 'SnG53qEhZd';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>




</body>
</html>
